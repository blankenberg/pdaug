<tool id="modlamp_plot" name="modlamp plot" version="1.1.2">
  <description>for any numerical column</description>
  <requirements>
    <requirement type="package" version="0.24.2">pandas</requirement>
    <requirement type="package" version="4.1.2">modlamp</requirement> 
  </requirements>
  <stdio>
    <exit_code range="1" level="fatal" />
  </stdio>
    <command detect_errors="exit_code"><![CDATA[


        python '$__tool_directory__/modlamp_plot.py'  '$SelPlot.Plot'

                        #if $SelPlot.Plot == 'HelWhl'

                        #end if 

                        #if $SelLibGene.LibGene == 'PltPede'
                        
                        #end if 

                        #if $SelLibGene.LibGene == 'PltVio'

                        #end if 

                        #if $SelLibGene.LibGene == 'PltAaDis'

                        #end if 

                                   
    ]]></command>

  <inputs>

    <conditional name='SelPlot' >

        <param name="Plot" type="select" label="LibGene" argument="">
          <option value="HelWhl">HelWhl</option>
          <option value="PltPede">PltPede</option>
          <option value="PltVio">PltVio</option>
          <option value="PltAaDis">PltAaDis</option>
        </param>

        <when value="HelWhl">
            <param name="InFile" type="data" format="tabular" argument= "--InFile"/>
            <param name="colorcoding" type="text" value="rainbow" argument="--colorcoding" />
            <param name="lineweights" type="boolean" value="true" argument="--lineweights" />
            <param name="filename" type="text" value="out.png" argument="--filename" />
            <param name="seq" type="boolean" value="true" argument="--seq" />
            <param name="moment"  type="boolean" value="false" argument="--moment"/>
        </when>

        <when value="PltPede">
            <param name="InFile" type="data" format="tabular" argument= "--InFile"/>
            <param name="ClmList" type="text"  argument="--ClmList" />
            <param name="Title"  type="text" value="Plot" argument="--Title"/>
            <param name="axlabels" type="text" argument="--axlabels" />
            <param name="filename" type="text" argument="--filename" />
            <param name="legendloc" type="integer" value="2" argument="--legendloc" />
            <param name="x_max" type="integer" value="1" argument="--x_max" />
            <param name="x_min" type="integer" value="0" argument="--x_min" />
            <param name="alpha" type="float" value="0.2" argument="--alpha" /> 
        </when>

        <when value="PltVio">
            <param name="InFile" type="data" format="tabular" argument= "--InFile"/>
            <param name="ClmList" type="text"  argument="--ClmList" />
            <param name="colors" type="text"  argument="--colors" />
            <param name="pb" type="boolean" value="false" argument="--pb" />
            <param name="Title"  type="text" value="Plot" argument="--Title"/>
            <param name="axlabels" type="text" argument="--axlabels" />
            <param name="filename" type="text" argument="--filename" />
            <param name="x_max" type="integer" value="1" argument="--x_max" />
            <param name="x_min" type="integer" value="0" argument="--x_min" /> 
        </when>

        <when value="PltAaDis">
            <param name="InFile"  type="data" formate="tabular" argument= "--seq_num"/>
            <param name="colors" type="text"  argument="--colors" />
            <param name="Modality" type="text" value="max" argument="--Modality" />
            <param name="filename" type="text" argument="--filename" />
        </when>

    </conditional>
  </inputs>


  <outputs>
        <data name='output1' format='tabular' label="out.tsv" />    
        <data name='output2' format='html' label="repot.html" />
  </outputs>
  <tests>
    <test>
      <param name="input" value="1.bed"/>
      <param name="cond" value="c2"/>
      <output name="out_file1" file="gsummary_out1.tabular"/>
    </test>
  </tests>
  <help>

  </help>
</tool>



