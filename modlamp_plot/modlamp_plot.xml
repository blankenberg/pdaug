<tool id="modlamp_plot" name="modlamp plot" version="1.1.2">
  <description></description>
  <requirements>
    <requirement type="package" version="0.24.2">pandas</requirement>
    <requirement type="package" version="4.1.2">modlamp</requirement> 
  </requirements>
  <stdio>
    <exit_code range="1" level="fatal" />
  </stdio>
    <command detect_errors="exit_code"><![CDATA[


        python '$__tool_directory__/modlamp_plot.py'  '$SelPlot.Plot'

            #if $SelPlot.Plot == 'HelWhl'
              --InFile $InFile
              --colorcoding $SelPlot.colorcoding
              --lineweights $SelPlot.lineweights
              --seq $SelPlot.seq
              --movment $SelPlot.movment 
            #end if 

            #if $SelPlot.Plot == 'PltPde'
              --InFile $InFile
              --ClmList $SelPlot.ClmList
              --Title $SelPlot.Title
              --axlabels $SelPlot.axlabels
              --legendloc $SelPlot.legendloc
              --x_min $SelPlot.x_min
              --x_max $SelPlot.x_max
              --alpha $SelPlot.alpha
            #end if 

            #if $SelPlot.Plot == 'PltVio'
              --InFile $InFile
              --ClmList $SelPlot.ClmList
              --colors $SelPlot.colors
              --bp $SelPlot.bp
              --title $SelPlot.title
              --axlabels $SelPlot.axlabels
              --y_min $SelPlot.y_max
              --y_max $SelPlot.y_max
            #end if 


            #if $SelPlot.Plot == 'PltAaDis'
              --InFile $InFile
              --colors $SelPlot.colors
            #end if 

            --htmlOutDir '$output2.extra_files_path'  --htmlFname '$output2'

                                   
    ]]></command>

  <inputs>

    <conditional name='SelPlot' >

        <param name="Plot" type="select" label="LibGene" argument="">
          <option value="HelWhl">Helical wheel</option>
          <option value="PltPde">Probability density estimations</option>
          <option value="PltVio">Violin</option>
          <option value="PltAaDis">Amino acide distribution</option>
        </param>

        <when value="HelWhl">
            <param name="InFile" type="data" format="fasta" argument= "--InFile"/>
            <param name="colorcoding" type="text" value="rainbow" argument="--colorcoding" />
            <param name="lineweights" type="boolean" value="true" argument="--lineweights" />
            <param name="filename" type="text" value="out.png" argument="--filename" />
            <param name="seq" type="boolean" value="true" argument="--seq" />
            <param name="movment"  type="boolean" value="false" argument="--movment"/>
        </when>

        <when value="PltPde">
            <param name="InFile" type="data" format="tabular" argument= "--InFile"/>
            <param name="ClmList" type="text"  argument="--ClmList" />
            <param name="Title"  type="text" value="Plot" argument="--Title"/>
            <param name="axlabels" type="text" argument="--axlabels" />
            <param name="filename" type="text" argument="--filename" />
            <param name="legendloc" type="integer" value="2" argument="--legendloc" />
            <param name="x_max" type="integer" value="1" argument="--x_max" />
            <param name="x_min" type="integer" value="0" argument="--x_min" />
            <param name="alpha" type="float" value="0.2" argument="--alpha" /> 
        </when>

        <when value="PltVio">
            <param name="InFile" type="data" format="tabular" argument= "--InFile"/>
            <param name="ClmList" type="text"  argument="--ClmList" />
            <param name="colors" type="text"  value="None" argument="--colors" />
            <param name="bp" type="boolean" value="false" argument="--bp" />
            <param name="title"  type="text" value="Plot" argument="--Title"/>
            <param name="axlabels" type="text" argument="--axlabels" />
            <param name="filename" type="text" argument="--filename" />
            <param name="y_max" type="integer" value="1" argument="--y_max" />
            <param name="y_min" type="integer" value="0" argument="--y_min" /> 
        </when>

        <when value="PltAaDis">
            <param name="InFile"  type="data" formate="fasta" argument= "--seq_num"/>
            <param name="colors" type="text" value="None" argument="--colors" />
        </when>

    </conditional>
  </inputs>


  <outputs>   
        <data name='output2' format='html' label="report.html" />
  </outputs>
  <tests>
    <test>
      <param name="input" value="1.bed"/>
      <param name="cond" value="c2"/>
      <output name="out_file1" file="gsummary_out1.tabular"/>
    </test>
  </tests>
  <help>

  </help>
</tool>



