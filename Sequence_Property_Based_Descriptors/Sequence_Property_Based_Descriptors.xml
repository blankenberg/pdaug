<tool id="Sequence_Property_Based_Descriptors" name="Sequence Property Based Descriptors" version="1.1.2">
  <description>Calculates sequence-based descriptor of the peptide sequences</description>

  <requirements>
    <requirement type="package" version="2.7.18">python</requirement>
    <requirement type="package" version="0.24.2">pandas</requirement>
    <requirement type="package" version="1.0">pydpi</requirement>
  </requirements>
  <stdio>
    <exit_code range="1" level="fatal" />
  </stdio>
    <command detect_errors="exit_code"><![CDATA[

        python '$__tool_directory__/Sequence_Property_Based_Descriptors.py' --InFile $input1 

        --DesType $SelectDiscriptor.DesType

        #if $SelectDiscriptor.DesType == 'PAAC'
          --Lamda $SelectDiscriptor.Lamda
          --Weight $SelectDiscriptor.Weight
        #end if 

        #if $SelectDiscriptor.DesType == 'APAAC'
          --Lamda $SelectDiscriptor.Lamda
          --Weight $SelectDiscriptor.Weight
        #end if

        #if $SelectDiscriptor.DesType == 'All'
          --Lamda $SelectDiscriptor.Lamda
          --Weight $SelectDiscriptor.Weight
        #end if


        -O '$output1'
                  
    ]]></command>

  <inputs>

      <param name="input1" type="data" format="fasta" />

      <conditional name="SelectDiscriptor">

        <param name="DesType" type="select" label="DesType" argument="">
          <option value="PAAC">PAAC</option>
          <option value="APAAC">APAAC</option>
          <option value="CTD" selected="true">CTD</option>
          <option value="DPComp">DPComp</option>
          <option value="GearyAuto">GearyAuto</option>
          <option value="MoranAuto">MoranAuto</option>
          <option value="MoreauBrotoAuto">MoreauBrotoAuto</option>
          <option value="QSO">QSO</option>
          <option value="SOCN">SOCN</option>
          <option value="TPComp">TPComp</option>
          <option value="BinaryDescriptor">Binary Descriptor</option>
          <option value="All">All</option>  
        </param>

        <when value="PAAC" >
          <param name="Lamda" type="integer" value="5" argument= "--Lamda"/>
          <param name="Weight" type="float" value="0.5" argument= "--Weight"/>
        </when>

        <when value="PAAC" >
          <param name="Lamda" type="integer" value="5" argument= "--Lamda"/>
          <param name="Weight" type="float" value="0.5" argument= "--Weight"/>
        </when>

        <when value="PAAC" >
          <param name="Lamda" type="integer" value="5" argument= "--Lamda"/>
          <param name="Weight" type="float" value="0.5" argument= "--Weight"/>
        </when>

      </conditional>

  </inputs>

    <outputs>
        <data name='output1' format='tabular' label="1.tsv" multiple="false" />  
    </outputs>

  <tests>
    <test>
      <param name="input1" value="test.fasta"/>
      <param name="DesType" value="All"/>
      <param name="Lamda" value="5"/>
      <param name="Weight" value="0.5"/>
      <output name="output1" file="out.tsv"/>
    </test>
    <test>
      <param name="input1" value="test.fasta"/>
      <param name="DesType" value="BinaryDescriptor"/>
      <output name="output1" file="out.tsv"/>
    </test>
  </tests>
  <help>

  </help>
</tool>



