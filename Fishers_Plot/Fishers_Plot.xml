<tool id="Fishers_Plot" name="Fisher's plot" version="0.1.0" >
	<description>Analyze peptide sequence data based on feature spaces </description>
    <requirements>
      <requirement type="package" version="2.7.18">python</requirement>
      <requirement type="package" version="1.4.6">powerlaw</requirement>
      <requirement type="package" version="0.2.4">quantiprot</requirement>
    </requirements>

    <command detect_errors="exit_code"><![CDATA[

        python '$__tool_directory__/Fishers_Plot.py'  --Fasta1 '$Fasta1' --Fasta2 '$Fasta2' --overlap_factor '$overlap_factor' --windows_per_frame '$windows_per_frame' --xlabel '$xlabel' --ylabel '$ylabel' --pop1_label '$pop1_label' --pop2_label '$pop2_label' --htmlOutDir '$output2.extra_files_path'  --htmlFname '$output2'
             
    ]]></command>

    <inputs>
      <param name="Fasta1" type="data"  label="First fasta file" argument="--Fasta1" help="" />
      <param name="Fasta2" type="data"  label="Second fasta file" argument="--Fasta2" help="" />
      <param name="overlap_factor" type="integer" value="5" label="Overlap factor" argument="--overlap_factor" help="" />
      <param name="windows_per_frame" type="integer" value="5" label="Windows per frame" argument="--windows_per_frame" help="" />
      <param name="xlabel" type="text"  label="X-label" value="mean volume" argument="--xlabel" help="" />
      <param name="ylabel" type="text"  label="Y-label" value="mean hydropathy" argument="--ylabel" help="" />
      <param name="pop1_label" type="text" label="Lebel for first population" value="amyloids" argument="--pop1_label" help="" />
      <param name="pop2_label" type="text" label="Label for second population" value="non amyloids" argument="--pop2_label" help="" />
    </inputs>

    <outputs>   
        <data name='output2' format='html' label="report.html" />
    </outputs>
 
    <tests>
        <test>
            <param name="Fasta1" value="positive.fasta"/>
            <param name="Fasta2" value="negative.fasta"/>
            <param name="overlap_factor" value="5"  />
            <param name="windows_per_frame" value="5"  />
            <param name="xlabel" value="mean volume" />
            <param name="ylabel" value="mean hydropathy" />
            <param name="pop1_label"  value="Anticancer" />
            <param name="pop2_label"  value="anti-cancer" />
            <output name="output2" value="report_dir/report.html" />
        </test>
    </tests>



    <help>

      usage: Fishers_Plot.py [-h] -f1 FASTA1 -f2 FASTA2 [-o OVERLAP_FACTOR] [-w WINDOWS_PER_FRAME] -x XLABEL -y YLABEL -p1 POP1_LABEL -p2 POP2_LABEL [--htmlOutDir HTMLOUTDIR] [--htmlFname HTMLFNAME] [--Workdirpath WORKDIRPATH]

        optional arguments:
          -h, --help            show this help message and exit
          -f1 FASTA1, --Fasta1 FASTA1
                                First fasta file
          -f2 FASTA2, --Fasta2 FASTA2
                                Second fasta file
          -o OVERLAP_FACTOR, --overlap_factor OVERLAP_FACTOR
                                Overlap factor
          -w WINDOWS_PER_FRAME, --windows_per_frame WINDOWS_PER_FRAME
                                Windows per frame
          -x XLABEL, --xlabel XLABEL
                                X label
          -y YLABEL, --ylabel YLABEL
                                Y label
          -p1 POP1_LABEL, --pop1_label POP1_LABEL
                                First population label
          -p2 POP2_LABEL, --pop2_label POP2_LABEL
                                Second population label
          --htmlOutDir HTMLOUTDIR
                                Path to html dir
          --htmlFname HTMLFNAME
                                html output file
          --Workdirpath WORKDIRPATH
                                Path to output Working Directory

    </help>
    <citations>
        <citation type="bibtex">

@misc{githubseqtk,
  author = {LastTODO, FirstTODO},
  year = {TODO},
  title = {seqtk},
  publisher = {GitHub},
  journal = {GitHub repository},
  url = {https://github.com/lh3/seqtk},

}</citation>
    </citations>
</tool>