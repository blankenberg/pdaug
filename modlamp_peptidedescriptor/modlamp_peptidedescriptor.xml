<tool id="modlamp_peptidedescriptor" name="modlamp peptidedescriptor" version="1.1.2">
  <description>for any numerical column</description>
  <requirements>
    <requirement type="package" version="0.24.2">pandas</requirement>
    <requirement type="package" version="4.1.2">modlamp</requirement> 
  </requirements>
  <stdio>
    <exit_code range="1" level="fatal" />
  </stdio>
    <command detect_errors="exit_code"><![CDATA[


        python '$__tool_directory__/modlamp_peptidedescriptor.py'  '$SelDescriptor.Descriptor'

        				--InFile '$InFile'

                        #if $SelDescriptor.Descriptor == 'AutoCorrCal'
                            --WindowSize $SelDescriptor.WindowSize
                            --ScaleName $SelDescriptor.ScaleName
                        #end if 

                        #if $SelDescriptor.Descriptor == 'CrossCorrCal'
                            --WindowSize $SelDescriptor.WindowSize
                            --ScaleName $SelDescriptor.ScaleName                        
                        #end if 

                        #if $SelDescriptor.Descriptor == 'CalculateMovement'
                            --WindowSize $SelDescriptor.WindowSize
                            --Angle $SelDescriptor.Angle
                            --Modality $SelDescriptor.Modality
                            --ScaleName $SelDescriptor.ScaleName
                        #end if 

                        #if $SelDescriptor.Descriptor == 'GlobalCal'
                            --WindowSize $SelDescriptor.WindowSize
                            --Modality $SelDescriptor.Modality
                            --ScaleName $SelDescriptor.ScaleName
                        #end if 

                        #if $SelDescriptor.Descriptor == 'ProfileCal'
                            --ProfType $SelDescriptor.ProfType 
                            --WindowSize $SelDescriptor.WindowSize
                            --ScaleName $SelDescriptor.ScaleName
                        #end if 

                        #if $SelDescriptor.Descriptor == 'ArcCal'
                            --Modality $SelDescriptor.Modality
                        #end if    

                        --OutFile $output1

    ]]></command>


  <inputs>


  	<param name="InFile" type="data" format="fasta" argument= "--InFile"/>


    <conditional name='SelDescriptor' >

        <param name="Descriptor" type="select" label="LibGene" argument="">
          <option value="AutoCorrCal">AutoCorrCal</option>
          <option value="CrossCorrCal">CrossCorrCal</option>
          <option value="CalculateMovement">CalculateMovement</option>
          <option value="GlobalCal">GlobalCal</option>
          <option value="ProfileCal">ProfileCal</option>
          <option value="ArcCal">ArcCal</option>
        </param>

        <when value="AutoCorrCal">          
            <param name="WindowSize" type="integer" value="7" argument="--WindowSize" />
            <param name="ScaleName"  type="text" value="Eisenberg" argument="--ScaleName"/>
        </when>

        <when value="CrossCorrCal">
            <param name="WindowSize" type="integer" value="7" argument="--WindowSize" />
            <param name="ScaleName"  type="text" value="Eisenberg" argument="--ScaleName"/>
        </when>

        <when value="CalculateMovement">
            <param name="WindowSize" type="integer" value="1000" argument="--WindowSize" />
            <param name="Angle" type="integer" value="100" argument="--Angle" />
            <param name="Modality" type="text" value="max" argument="--Modality" />
            <param name="ScaleName"  type="text" value="Eisenberg" argument="--ScaleName"/>
        </when>

        <when value="GlobalCal">
            <param name="WindowSize" type="integer" value="1000" argument="--lenmin_s" />
            <param name="Modality" type="text" value="max" argument="--Modality" />
            <param name="ScaleName"  type="text" value="Eisenberg" argument="--ScaleName"/>

        </when>

        <when value="ProfileCal">
            <param name="ProfType" type="text" value="uH" argument="--ProfType" />
            <param name="WindowSize" type="integer" value="7" argument="--lenmin_s" />
            <param name="ScaleName"  type="text" value="Eisenberg" argument="--ScaleName"/>
        </when>

        <when value="ArcCal">
            <param name="Modality" type="text" value="max" argument="--Modality" />
        </when>

    </conditional>
  </inputs>


  <outputs>
        <data name='output1' format='tabular' label="out.tsv" />    
  </outputs>
  <tests>
    <test>
      <param name="input" value="1.bed"/>
      <param name="cond" value="c2"/>
      <output name="out_file1" file="gsummary_out1.tabular"/>
    </test>
  </tests>
  <help>

  </help>
</tool>



